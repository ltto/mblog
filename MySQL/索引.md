## 索引的作用
1. 索引避免了MySQL全表扫描 提升了查询效率
## 主键对索引的影响
1. MySql 的主键不能太大，如果使用 UUID 这种，将会浪费 B+ 树的非叶子节点
2. MySql 的主键最好是自增(`有序`)的，如果使用 UUID 这种，每次插入都会调整 B+树，从而导致页分裂，严重影响性能。
## 索引使用口诀
全值匹配我最爱，最左前缀要遵守 
带头大哥不能死，中间兄弟不能断 
索引列上少计算，范围之后全失效 
LIKE符号写最右，覆盖索引不写星 
不等空值还有or，索引失效要少用 
var引号不能丢，SQL高级也不难 
分组之前必排序，一定要上索引啊

## 索引创建口诀
1.  单值索引，尽量选择过滤性更好的字段，例如：性别字段，过滤度为50%，识别率很差，不建议建索引 
2. 组合索引，索引字段的顺序可以按照识别度进行排序，识别度越高，放在越靠前 
3. 组合索引，尽量包含where语句中的更多字段 
4. 尽可能的根据分析执行计划、统计信息，去调整query的写法达到合适索引的目的

## 索引创建
1. 占用存储空间少的字段更适合选作索引的关键字。例如，与字符串相比，整数字段占用的存储空间较少，因此，较为适合选作索引关键字。
3. 存储空间固定的字段更适合选作索引的关键字。与 text 类型的字段相比， char 类型的字段较为适合选作索引关键字。
4. Where 子句中经常使用的字段应该创建索引，分组字段或者排序字段应该创建索引，两个表的连接字段应该创建索引。
5. 更新频繁的字段不适合创建索引，不会出现在 where 子句中的字段不应该创建索引。

## 索引容易失效的几个注意点
1. 不在索引列上做任何的操作（计算、函数、类型转换），会导致索引失效而转向全表扫描 
2. 组合索引中，如果中间某个字段使用了范围条件，则右边的列索引失效 
3. 尽量使用覆盖索引（索引列和查询列一致），减少使用`select * `
4. mysql在使用不等于（！= 或者<>）的时候，无法使用索引列会导致全表扫描 
5. is null ，is not null 也无法使用索引 
6. like通配符必须放在索引列的右边，否则索引失效，编程全表扫描 
7. 字符串不加单引号索引失效 
8. 少用or，用它进行索引之间的连接会失效    连接组合索引不会失效
> 总结  ,索引列  `类型转换`,`函数`,`计算`,`中间范围查询`,`!=` / `<>` ,`使用OR` ,`is null` , `is not null`,`like %没有放在最右边` ,`字符类型没有引号`
system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > nique_subquery > index_subquery > range > index > ALL
1.  组合索引的 and  in 乱序无所谓 sql优化器会帮你优化到索引的顺序


## 为什么索引不能优化 >,  <
1. 其次，为什么不能优化>等的顺序，通过索引的数据结构，比如说a,b,c 如果b遇到范围查询，那么它只能通过索引走到a,b  b由于用到了范围查询，就没办法直接定位到c了
2. 通过上面修改联合索引c和d的顺序，执行explain发现，where a =1 and b =2 and c >5 and d =3 ，如果建立联合索引的顺序是(a,b,c,d)，那么d不会走索引，mysql执行这条sql时，还是会走索引，只不过走的是(a,b,c)联合索引，key_len的长度是10. 如果建立联合索引的顺序是(a,b,d,c)，此时的key_len的长度是15，意味走了全部的索引，也就是d用上了索引